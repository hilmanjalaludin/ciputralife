<?php	require("../sisipan/sessions.php");	require("../fungsi/global.php");	require("../class/MYSQLConnect.php");	require("../class/lib.form.php");	/*	 *	class untuk action call result	 *  author : omens	 *  date : 2012-10-17	*/				class CallResult extends mysql{		var $action;				function __construct(){			parent::__construct();			$this -> action = $this->escPost('action');			$this -> form  = new jpForm();				}			/* function set style css **/		function setCss(){?>						<!-- start: css -->				<style>					.select { border:1px solid #dddddd;width:160px;font-size:11px;height:22px;background-color:#fffccc;}					.input_text {border:1px solid #dddddd;width:160px;font-size:12px;height:20px;background-color:#fffccc;}					.text_header { text-align:right;color:red;}					.select_multiple { border:1px solid #dddddd;width:250px;font-size:11px;background-color:#fffccc;}				</style>							<!-- stop: css -->		<?php }						function initClass(){			if( $this->havepost('action'))			{				switch( $this->action)				{								/// -------------------------------------------------------------- //				/// -------------------------------------------------------------- //						case 'tpl_add'  			: $this->tplResultAdd();    break;					case 'tpl_edit' 			: $this->tplResultEdit();   break;					case 'tpl_delete'			: $this->tplResultRemove(); break;					case 'save_result'			: $this -> saveResult(); 	break;					case 'delete_result' 		: $this -> deleteResult(); 	break;					case 'update_result' 		:  $this -> updateResult(); break;					case 'disable_result' 		:  $this -> DisableResult(); break;					case 'enable_result' 		:  $this -> EnableResult();  break;					case 'event_result' 		: $this -> EventResult(); 	 break;					case 'event_callback' 		: $this -> EventCallback();  break; 									 /// -------------------------------------------------------------- //				 /// -------------------------------------------------------------- //											case 'tpl_add_category' 	: $this -> tplAddCategory(); 	break;					case 'save_category' 		: $this -> SaveCategory(); 		break;					case 'tpl_edit_category' 	: $this -> tplEditCategory(); 	break;					case 'update_category' 		: $this -> UpdateCategory(); 	break;					case 'delete_category' 		: $this -> DeleteCategory(); 	break;					case 'enable_category' 		: $this -> EnableCategory(); 	break;					case 'disable_category' 	: $this -> DisableCategory(); 	break;									 /// -------------------------------------------------------------- //				 /// -------------------------------------------------------------- //											case 'tpl_add_quality' 		: $this -> tplAddAsuransi(); 	break;					case 'tpl_edit_quality'		: $this -> tplEditAsuransi(); 	break;					case 'update_quality'		: $this -> UpdateQuality(); 	break;					case 'save_quality'         : $this -> SaveQuality(); 		break;					case 'enable_quality'       : $this -> EnableQuality();     break;					case 'disable_quality'      : $this -> DisableQuality();    break;					case 'delete_quality'       : $this -> DeleteQuality();     break;				}			}		}				/** delete DeleteQuality **/				function DeleteQuality()		{			$resultid = explode(",",$_REQUEST['resultid']);			$total = 0;			foreach( $resultid as $k => $v )			{				if( $this -> execute("DELETE FROM t_lk_aprove_status WHERE ApproveId='$v'",__FILE__,__LINE__) )				{					$total++;				}			}						if( $total> 0 ) 				echo json_encode(array('result'=>1));			else				echo json_encode(array('result'=>0));				}			/** DisableQuality **/					function DisableQuality()		{			$resultid = EXPLODE(",",$_REQUEST['resultid']);			$total = 0;			foreach( $resultid as $k => $v )			{				if( $this -> execute(" UPDATE t_lk_aprove_status a SET a.AproveFlags=0									   WHERE a.ApproveId='$v'",__FILE__,__LINE__) )				{					$total++;				}			}						if( $total> 0 ) 				echo json_encode(array('result'=>1));			else				echo json_encode(array('result'=>0));			}					/** EnableQuality **/					function EnableQuality()		{			$resultid = EXPLODE(",",$_REQUEST['resultid']);			$total = 0;			foreach( $resultid as $k => $v )			{				if( $this -> execute(" UPDATE t_lk_aprove_status a SET a.AproveFlags=1 									   WHERE a.ApproveId='$v'",__FILE__,__LINE__) )				{					$total++;				}			}						if( $total> 0 ) 				echo json_encode(array('result'=>1));			else				echo json_encode(array('result'=>0));			}							/** InsertQuality **/					function SaveQuality()		{			$result = array('result'=>0);				if( $this -> havepost('quality_code'))			{				$SQL_insert['AproveCode']  = $this -> escPost('quality_code'); 				$SQL_insert['AproveName']  = $this -> escPost('quality_name');				$SQL_insert['AproveFlags'] = $this -> escPost('quality_status');				$SQL_insert['ApproveEskalasi'] = $this -> escPost('quality_eskalasi');				$SQL_insert['UserLevelEskalasi'] = $this -> escPost('quality_levels');				if( $this -> set_mysql_insert('t_lk_aprove_status',$SQL_insert))				{					$result = array('result'=>1);				}			}						echo json_encode($result);				}				/** UpdateQuality **/					function UpdateQuality()		{			$result = array('result'=>0);				if( $this -> havepost('quality_code'))			{				$SQL_insert['AproveCode']  = $this -> escPost('quality_code'); 				$SQL_insert['AproveName']  = $this -> escPost('quality_name');				$SQL_insert['AproveFlags'] = $this -> escPost('quality_status');				$SQL_insert['ApproveEskalasi'] = $this -> escPost('quality_eskalasi');				$SQL_insert['UserLevelEskalasi'] = $this -> escPost('quality_levels');				$SQL_wheres['ApproveId']   = $this -> escPost('quality_id');								if( $this -> set_mysql_update('t_lk_aprove_status',$SQL_insert, $SQL_wheres))				{					$result = array('result'=>1);				}			}						echo json_encode($result);				}			/** enable category **/			function EnableCategory()		{			$resultid = explode(",",$_REQUEST['resultid']);			$total = 0;			foreach( $resultid as $k => $v )			{				if( $this -> execute(" UPDATE t_lk_callreasoncategory a SET a.CallReasonCategoryFlags=1 									   WHERE a.CallReasonCategoryId='$v'",__FILE__,__LINE__) )				{					$total++;				}			}						if( $total> 0 ) 				echo json_encode(array('result'=>1));			else				echo json_encode(array('result'=>0));		}			/* disable **/			function DisableCategory()		{			$resultid = explode(",",$_REQUEST['resultid']);			$total = 0;			foreach( $resultid as $k => $v )			{				if( $this -> execute(" UPDATE t_lk_callreasoncategory a SET a.CallReasonCategoryFlags=0 									   WHERE a.CallReasonCategoryId='$v'",__FILE__,__LINE__) )				{					$total++;				}			}						if( $total> 0 ) 				echo json_encode(array('result'=>1));			else				echo json_encode(array('result'=>0));		}					/** delete catgeory **/			function DeleteCategory()		{			$resultid = explode(",",$_REQUEST['resultid']);			$total = 0;			foreach( $resultid as $k => $v )			{				if( $this -> execute("DELETE FROM t_lk_callreasoncategory WHERE CallReasonCategoryId='$v'",__FILE__,__LINE__) )				{					$total++;				}			}						if( $total> 0 ) 				echo json_encode(array('result'=>1));			else				echo json_encode(array('result'=>0));				}			/** UpdateCategory **/		function UpdateCategory()		{			$result = array('result'=>0);				if( $this -> havepost('category_code'))			{				$SQL_insert['CallReasonCategoryCode']  = $this -> escPost('category_code'); 				$SQL_insert['CallReasonCategoryName']  = $this -> escPost('category_name');				$SQL_insert['CallReasonCategoryOrder'] = $this -> escPost('category_order');				$SQL_insert['CallReasonCategoryFlags'] = $this -> escPost('category_status');				$SQL_wheres['CallReasonCategoryId']    = $this -> escPost('category_id');								if( $this -> set_mysql_update('t_lk_callreasoncategory',$SQL_insert, $SQL_wheres))				{					$result = array('result'=>1);				}			}						echo json_encode($result);			}			/** save category ***/			function SaveCategory()		{			$result = array('result'=>0);				if( $this -> havepost('category_code'))			{				$SQL_insert['CallReasonCategoryCode']  = $this -> escPost('category_code'); 				$SQL_insert['CallReasonCategoryName']  = $this -> escPost('category_name');				$SQL_insert['CallReasonCategoryOrder'] = $this -> escPost('category_order');				$SQL_insert['CallReasonCategoryFlags'] = $this -> escPost('category_status');				if( $this -> set_mysql_insert('t_lk_callreasoncategory',$SQL_insert))				{					$result = array('result'=>1);				}			}						echo json_encode($result);				}		/** get Event status ***/		function EventResult()		{			$datas['result'] = 0;						$sql = "select a.CallReasonEvent, a.CallReasonLater 					from t_lk_callreason a  where a.CallReasonId ='$_REQUEST[reason_code]'					and a.CallReasonContactedFlag = 1";			$qry = $this -> query($sql);			if( !$qry -> EOF() )			{				$datas['result'] 	= 1;				$datas['callLater'] = $qry -> result_get_value('CallReasonLater');				$datas['callSales'] = $qry -> result_get_value('CallReasonEvent');			}							echo json_encode($datas);				}				function EventCallback()		{			$sql = "select a.CallReasonLater 					from t_lk_callreason a  where  a.CallReasonId ='$_REQUEST[reason_code]'					and a.CallReasonContactedFlag = 1";								echo json_encode(array('result'=> $this->valueSQL($sql)));				}				function getCallResultById(){			$sql = " select * from t_lk_callreason a where a.CallReasonId='".$this->escPost('resultid')."'";			$qry = $this ->execute($sql,__FILE__,__LINE__);			$datas = $this -> fetchrow($qry);			if( $datas!=''):				return $datas;			endif;			}		/* delete **/		function deleteResult(){			$sql = " delete from t_lk_callreason where CallReasonId ='".$this -> escPost('resultid')."'"; 			$qry = $this ->execute($sql,__FILE__,__LINE__);						if ( $qry ) : echo 1;			else : 				echo 0; 			endif;		}				function DisableResult(){					$sql = " update t_lk_callreason set CallReasonStatusFlag = 0 where CallReasonId ='".$this -> escPost('resultid')."'"; 			$qry = $this ->execute($sql,__FILE__,__LINE__);						if ( $qry ) : echo 1;			else : 			echo 0; 			endif;					}				function EnableResult(){						$sql = " update t_lk_callreason set CallReasonStatusFlag = 1 where CallReasonId ='".$this -> escPost('resultid')."'"; 			$qry = $this ->execute($sql,__FILE__,__LINE__);						if ( $qry ) : echo 1;			else : 			echo 0; 			endif;					}			/* save */		function updateResult(){					$result = array(					'CallReasonCategoryId' => $this -> escPost('result_category'), 					'CallReasonOrder' => $this -> escPost('result_order'),					'CallReasonCode'  => $this -> escPost('result_code'), 					'CallReasonDesc'  => $this -> escPost('result_name'), 					'CallReasonEvent' => $this->  escPost('result_event'),					'CallReasonLater' => $this->  escPost('result_remind'),					'CallReasonFollowUp' => $this->  escPost('result_followup'),					'CallReasonStatusFlag'  => 1,					'CallReasonLevel'  => 1				);							$where = array('CallReasonId'=>$this->escPost('resultid'));								$query = $this -> set_mysql_update('t_lk_callreason',$result,$where);				$this ->sqlText;				if( $query ) : echo 1;				else :					echo 0;				endif;						}				/* save */		function saveResult()		{					$sql = array(					'CallReasonCategoryId' => $this -> escPost('result_category'),					'CallReasonCode'  => $this -> escPost('result_code'), 					'CallReasonDesc'  => $this -> escPost('result_name'), 					'CallReasonOrder' => $this -> escPost('result_order'),					'CallReasonEvent'=> $this->  escPost('result_event'),					'CallReasonLater'=> $this->  escPost('result_remind'),					'CallReasonFollowUp'=> $this->  escPost('result_followup'),					'CallReasonLevel'  => 1, 					'CallReasonStatusFlag'  => 1 				);								$query = $this -> set_mysql_insert('t_lk_callreason',$sql);				if( $query ) : echo 1;				else :					echo 0;				endif;						}			/** function getCategory **/				private function getResultLevel($option=''){ ?>			<select class="select" id="result_head_level" name="result_head_level" onchange="javascript:doJava.dom('result_level').value=this.value;">				<option value="">-- Choose --</option>				<?php					$sql = "select a.CallReasonLevel as idKey , a.CallReasonLevel 							from t_lk_callreason a group by a.CallReasonLevel";					$qry = $this -> execute($sql,__FILE__,__LINE__);												while( $row = $this -> fetcharray($qry)){							if( $option==$row[0]){								echo "<option value=\"{$row[0]}\" selected>{$row[1]}</option>";							}							else{								echo "<option value=\"{$row[0]}\">{$row[1]}</option>";							}						}									?>			</select>		<?php }					/** function getCategory **/				private function getCategory($option='')		{ 			$sql ="select * from t_lk_callreasoncategory";			$qry = $this -> query($sql);			foreach( $qry -> result_rows() as $rows )			{				$datas[$rows[0]] = $rows[1];				}				return $datas;		}		/** function getCategory **/				private function getActivated(){ ?>			<select class="select">				<option value="">-- Choose --</option>			</select>		<?php }								/** et order **/		function getOrderData()		{			for($i=0; $i<=200; $i++ )			{				$datas[] = $i;			}						return $datas;		}			/* tplEditAsuransi **/				function tplEditAsuransi()		{			$QualityId = $this -> escPost('resultid');				if( $QualityId )				{					$sql = " select * from t_lk_aprove_status a where a.ApproveId='$QualityId'";					$qry = $this -> query($sql); 					if( $qry -> result_num_rows() > 0 )					{						$rows = $qry -> result_first_assoc();					}				}					$this->setCss();			?>			<div id="result_content_add" class="box-shadow" style="margin-top:10px;">				<input type="hidden" name="quality_id" id="quality_id" value="<?php echo $this->escPost('resultid'); ?>">				<h3 class="box-shadow h3"> Add Quality Result </h3>				<table cellpadding="6px;">					<tr>						<td class="text_header">* Quality Result Code </td>						<td>							<input type="text" name="quality_code" id="quality_code" value="<?php echo $rows['AproveCode']; ?>" class="input_text" style="width:250px;height:18px;">						</td>					</tr>										<tr>						<td class="text_header">* Quality Result Name</td>						<td>							<input type="text" name="quality_name" id="quality_name" value="<?php echo $rows['AproveName']; ?>" class="input_text" style="width:250px;height:18px;"> 						</td>					</tr>					<tr>						<td class="text_header">* Action Eskalasi <d>						<td><?php $this -> form -> jpCombo('quality_eskalasi','select',array(0=>'No',1=>'Yes'),$rows['ApproveEskalasi']);?></td>					</tr>					<tr>						<td class="text_header">* Eskalasi From Level <d>						<td><?php $this -> form -> jpCombo('quality_from_level_eskalasi','select', $this -> Users -> getUserLevel(),$rows['FromUserLevelEskalasi']);?></td>					</tr>					<tr>						<td class="text_header">* Eskalasi to Level <d>						<td><?php $this -> form -> jpCombo('quality_level_eskalasi','select', $this -> Users -> getUserLevel(),$rows['UserLevelEskalasi']);?></td>					</tr>					<tr>						<td class="text_header">* Status</td>						<td><?php $this -> form -> jpCombo('quality_status','select',array(0=>'Not Active',1=>'Active'),$rows['AproveName']);?></td>					</tr>											<tr>						<td class="text_header">&nbsp;</td>						<td><a href="javascript:void(0);" class="sbutton" onclick="UpdateQualityResult();"><span>&nbsp;Update</span></a></td>					</tr>				</table>			</div>		<?php		}			/* tplAddAsuransi **/				function tplAddAsuransi()		{			$this->setCss();			?>			<div id="result_content_add" class="box-shadow" style="margin-top:10px;">				<h3 class="box-shadow h3"> Add Quality Result </h3>				<table cellpadding="6px;">					<tr>						<td class="text_header">* Quality Result Code </td>						<td>							<input type="text" name="quality_code" id="quality_code" class="input_text" style="width:250px;height:18px;">						</td>					</tr>										<tr>						<td class="text_header">* Quality Result Name</td>						<td>							<input type="text" name="quality_name" id="quality_name"  class="input_text" style="width:250px;height:18px;"> 						</td>					</tr>					<tr>						<td class="text_header">* Action Eskalasi <d>						<td><?php $this -> form -> jpCombo('quality_eskalasi','select',array(0=>'No',1=>'Yes'),'0');?></td>					</tr>					<tr>						<td class="text_header">* Eskalasi From Level <d>						<td><?php $this -> form -> jpCombo('quality_from_level_eskalasi','select', $this -> Users -> getUserLevel());?></td>					</tr					<tr>						<td class="text_header">* Eskalasi to Level <d>						<td><?php $this -> form -> jpCombo('quality_level_eskalasi','select', $this -> Users -> getUserLevel(),4);?></td>					</tr>					<tr>						<td class="text_header">* Status</td>						<td><?php $this -> form -> jpCombo('quality_status','select',array(0=>'Not Active',1=>'Active'),'1');?></td>					</tr>											<tr>						<td class="text_header">&nbsp;</td>						<td><a href="javascript:void(0);" class="sbutton" onclick="SaveQualityResult();"><span>&nbsp;Save</span></a></td>					</tr>				</table>			</div>		<?php		}			/* tplResultAdd **/			function tplResultAdd(){ 				$this->setCss();				?>			<div id="result_content_add" class="box-shadow" style="margin-top:10px;">				<h3 class="box-shadow h3"> Add Call Result </h3>				<table cellpadding="6px;">					<tr>						<td class="text_header">* Call Result ID</td>						<td>							<input type="text" name="result_code" id="result_code" class="input_text" style="padding-right:2px;width:60px;height:18px;text-align:right;" maxlength="3">						</td>					</tr>										<tr>						<td class="text_header">* Call Result Name</td>						<td>							<input type="text" name="result_name" id="result_name"  class="input_text" style="width:250px;height:18px;"> 						</td>					</tr>										<tr>						<td class="text_header">* Call Result Category</td>						<td><?php $this -> form -> jpCombo('result_category', 'select', $this->getCategory());?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set As Trigger To Open Closing form</td>						<td ><?php $this -> form -> jpCombo('result_event','select',array(0=>'No',1=>'Yes'),'0');?></td>					</tr>										<tr>					<tr>						<td style="text-align:right;color:red;">* Set As Trigger To CallBack Reminder</td>						<td><?php $this -> form -> jpCombo('result_remind','select',array(0=>'No',1=>'Yes'),'0');?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set As Trigger To Follow Up</td>						<td><?php $this -> form -> jpCombo('result_followup','select',array(0=>'No',1=>'Yes'),'1');?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set Order Result</td>						<td><?php $this -> form -> jpCombo('result_order','select',self::getOrderData());?></td>					</tr>													<tr>						<td class="text_header">&nbsp;</td>						<td><a href="javascript:void(0);" class="sbutton" onclick="saveResult();"><span>&nbsp;Save</span></a></td>					</tr>				</table>			</div>		<?php		}		/** add category ***************/		function tplAddCategory()	{ 		$this->setCss();		?>			<div id="result_content_add" class="box-shadow" style="margin-top:10px;">				<h3 class="box-shadow h3"> Add Category Result </h3>				<table cellpadding="6px;">					<tr>						<td class="text_header">* Call Category ID</td>						<td>							<input type="text" name="category_code" id="category_code" class="input_text" style="width:250px;height:18px;">						</td>					</tr>										<tr>						<td class="text_header">* Call Category Name</td>						<td>							<input type="text" name="category_name" id="category_name"  class="input_text" style="width:250px;height:18px;"> 						</td>					</tr>										<tr>						<td class="text_header">* Status</td>						<td><?php $this -> form -> jpCombo('category_status','select',array(0=>'Not Active',1=>'Active'),'1');?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set Order Result</td>						<td><?php $this -> form -> jpCombo('category_order','select',self::getOrderData());?></td>					</tr>													<tr>						<td class="text_header">&nbsp;</td>						<td><a href="javascript:void(0);" class="sbutton" onclick="SaveCatgoryResult();"><span>&nbsp;Save</span></a></td>					</tr>				</table>			</div>		<?php		}			/** edit category ***************/				function tplEditCategory()		{			$this->setCss();				$CategoryId = $this -> escPost('resultid');				if( $CategoryId )				{					$sql = " select * from t_lk_callreasoncategory a where a.CallReasonCategoryId='$CategoryId'";					$qry = $this -> query($sql); 					if( $qry -> result_num_rows() > 0 )					{						$rows = $qry -> result_first_assoc();					}				}				?>				<input type="hidden" name="category_id" id="category_id" value="<?php echo $this->escPost('resultid'); ?>">				<div id="result_content_add" class="box-shadow" style="margin-top:10px;">				<h3 class="box-shadow h3"> Edit Category Result </h3>				<table cellpadding="6px;">					<tr>						<td class="text_header">* Call Category ID</td>						<td>							<input type="text" name="category_code" id="category_code" value="<?php echo $rows['CallReasonCategoryCode']; ?>" class="input_text" style="width:250px;height:18px;">						</td>					</tr>										<tr>						<td class="text_header">* Call Category Name</td>						<td>							<input type="text" name="category_name" id="category_name"  value="<?php echo $rows['CallReasonCategoryName']; ?>" class="input_text" style="width:250px;height:18px;"> 						</td>					</tr>										<tr>						<td class="text_header">* Status</td>						<td><?php $this -> form -> jpCombo('category_status','select',array(0=>'Not Active',1=>'Active'),$rows['CallReasonCategoryFlags']);?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set Order Result</td>						<td><?php $this -> form -> jpCombo('category_order','select',self::getOrderData(),$rows['CallReasonCategoryOrder']);?></td>					</tr>													<tr>						<td class="text_header">&nbsp;</td>						<td><a href="javascript:void(0);" class="sbutton" onclick="UpdateCatgoryResult();"><span>&nbsp;Update</span></a></td>					</tr>				</table>			</div>			<?php		}					function tplResultEdit(){ 					$Result = $this -> getCallResultById();						$this->setCss(); 			?>			<input type="hidden" name="resultid" id="resultid" value="<?php echo $this->escPost('resultid'); ?>">			<div id="result_content_edit" class="box-shadow" style="margin-top:10px;">			   <h3 class="box-shadow h3"> Edit Call Result </h3>				<table cellpadding="6px;">					<tr>						<td class="text_header">* Call Result ID</td>						<td>							<input type="text" name="result_code" value="<?php echo $Result->CallReasonCode; ?>"  id="result_code" class="input_text" style="padding-right:2px;width:60px;height:18px;text-align:right;" maxlength="3">						</td>					</tr>										<tr>						<td class="text_header">* Call Result Name</td>						<td>							<input type="text" name="result_name" id="result_name"  value="<?php echo $Result->CallReasonDesc; ?>" class="input_text" style="width:250px;height:18px;"> 						</td>					</tr>										<tr>						<td class="text_header">* Call Result Category</td>						<td><?php $this -> form -> jpCombo('result_category','select',$this->getCategory(),$Result->CallReasonCategoryId );?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set As Trigger To Open Closing form</td>						<td ><?php $this -> form -> jpCombo('result_event','select',array(0=>'No',1=>'Yes'),$Result->CallReasonEvent);?></td>					</tr>					<tr>					<td style="text-align:right;color:red;">* Set As Trigger To CallBack Reminder</td>						<td ><?php $this -> form -> jpCombo('result_remind','select',array(0=>'No',1=>'Yes'),$Result->CallReasonLater);?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set As Trigger To Follow Up</td>						<td><?php $this -> form -> jpCombo('result_followup','select',array(0=>'No',1=>'Yes'),$Result->CallReasonFollowUp);?></td>					</tr>					<tr>						<td style="text-align:right;color:red;">* Set Order Result</td>						<td><?php $this -> form -> jpCombo('result_order','select',self::getOrderData(),$Result -> CallReasonOrder);?></td>					</tr>					<tr>						<td class="text_header">&nbsp;</td>						<td><a href="javascript:void(0);" class="sbutton" onclick="UpdateCallResult();"><span>&nbsp;Update </span></a></td>					</tr>				</table>			</div>		<?php		}				function tplResultRemove(){ ?>			<div id="result_content_delete" class="box-shadow" style="margin-top:10px;">							</div>		<?php		}	}		$CallResult= new CallResult();	$CallResult -> initClass();