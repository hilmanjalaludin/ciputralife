/*
 * @ JS framewok	: E.U.I ( Enigma User Interface ) 
 * 
 * @ version		: 1.0.0
 * @ revision		: 0.0.3 
 * @ Licensed		: under the MIT ( http://razakitechnology.com/siteraztech/product/web-application ) license.
 * @ author			: < razaki team >
 * @ Copyright		: 2013-2014|http://razakitechnology.com       
 * @ update function : E_ui.prototype.Serialize.getChecked()
 * @ update desc : get value checkbox
 * @ update date : 17-08-2015
 * @ update by : fajar
 
 * @ update function : E_ui.prototype.Cmp.getChecked()
 * @ update desc : get value if radio tag
 * @ update date : 26-08-2015
 * @ update by : fajar
 
 */
 
var E_ui=function(){};E_ui.prototype.DOM=this.self||window,E_ui.prototype.define={NAME:"E.U.I Js Libs",ALIAS:"Ext",VERSION:"1.0.3",AUTHOR:"OMENS",COPYRIGHT:"www.razakitechnology.com"},E_ui.prototype.Cmp=function(t){return{getElementId:function(){var e=document.getElementById(t);try{return e}catch(r){Ext.Error({log:r,name:t})}},getName:function(){var e=document.getElementsByName(t);return e},type:function(){try{return this.getElementId().type}catch(e){Ext.Error({log:e,name:t})}},getValue:function(){var e=this.getElementId();try{var r="";return"select-multiple"==this.type()&&(r=this.getSelectAll()),"text"==this.type()&&(r=e.value),"checkbox"==this.type()&&(r=this.getChecked()),"radio"==this.type()&&(r=this.getChecked()),"select-one"==this.type()&&(r=e.value),"textarea"==this.type()&&(r=e.value),"hidden"==this.type()&&(r=e.value),"password"==this.type()&&(r=e.value),"file"==this.type()&&(r=e.value),r}catch(n){Ext.Error({log:n,name:t})}},getChecked:function(){try{var e,r,n=0,o=[];for(r=this.getName(),e=0;e<r.length;e++)r[e].checked&&(o[n]=r[e].value,n++);return o}catch(i){Ext.Error({log:i,name:t})}},Checked:function(){var e=this.getElementId();try{return e.checked?1:0}catch(r){Ext.Error({log:r,name:t})}},getSelect:function(){var e,r,n=[];try{for(r=this.getElementId(),e=0;e<r.length;e++)r.options[e].selected&&(n[e]=r.options[e].value);return n}catch(o){Ext.Error({log:o,name:t})}},getSelectAll:function(){var e,r,n=[];try{for(r=this.getElementId(),e=0;e<r.length;e++)""!=r.options[e].value&&(n[e]=r.options[e].value);return n}catch(o){Ext.Error({log:o,name:t})}},setFocus:function(){var e=this.getElementId();try{return e.focus()}catch(r){Ext.Error({log:r,name:t})}},disabled:function(e){var r=this.getElementId();try{var n,o=this.type(),i=this.getName();if("checkbox"==o||"radio"==o)for(n=0;n<i.length;n++)i[n].disabled=e;else r.disabled=e}catch(n){Ext.Error({log:n,name:t})}},empty:function(){var e=this.getValue();try{return""==e?!0:!1}catch(r){Ext.Error({log:r,name:t})}},setValue:function(e){var r=this.getElementId();try{if("select-one"==this.type()){for(var n=r.options,o=0;o<n.length;o++)if(n[o].value==e){r.options.selectedIndex=o;break}}else r.value=e}catch(i){Ext.Error({log:i,name:t})}},setText:function(e){var r=this.getElementId();try{r.innerHTML=e}catch(n){Ext.Error({log:n,name:t})}},getText:function(){var e=this.getElementId();try{return e.options[e.options.selectedIndex].text}catch(r){Ext.Error({log:r,name:t})}},setChecked:function(){try{var e,r=this.getName();for(e=0;e<r.length;e++)r[e].checked=0==r[e].checked?!0:!1}catch(n){Ext.Error({log:n,name:t})}},setUnchecked:function(){var t,e=this.getName();for(t=0;t<e.length;t++)e[t].checked=!1},setMaxlength:function(e){var r=this.getElementId();try{r.maxLength=e}catch(n){Ext.Error({log:n,name:t})}},setIndex:function(e){var r=this.getElementId();try{r.options.selectedIndex=e}catch(n){Ext.Error({log:n,name:t})}},listener:function(e){var r=null!=this.getElementId()?this.getElementId():!1;try{if(0!=r)for(var n in e)"onClick"==n&&r.addEventListener("click",e[n],!0),"onKeyup"==n&&r.addEventListener("keyup",e[n],!0),"onChange"==n&&r.addEventListener("change",e[n],!0)}catch(o){Ext.Error({log:o,name:t})}},Encrypt:function(){if(_encript=this.getValue(),_encript)try{return Ext.BASE64.encode(_encript)}catch(e){Ext.Error({log:e,name:t})}},Decrypt:function(){if(_encript=this.Encrypt(),_encript)try{return Ext.BASE64.decode(_encript)}catch(e){Ext.Error({log:e,name:t})}},getAttribute:function(){var t=this.getElementId(),e={Array:function(){var e=[];return Array.prototype.slice.call(t.attributes).forEach(function(t){e[t.name]=t.value}),e.length>0?e:null},Object:function(){var e={};return Array.prototype.slice.call(t.attributes).forEach(function(t){e[t.name]=t.value}),e?e:null},NodeName:function(){var e=[],r=0;return Array.prototype.slice.call(t.attributes).forEach(function(t){e[r]=t.name,r++}),e?e:null},NodeValue:function(e){var r=[];try{return Array.prototype.slice.call(t.attributes).forEach(function(t){r[t.name]=t.value}),e?r[e]:null}catch(n){Ext.Error({log:n,name:t.attributes.id})}}};return e?e:null},setAttribute:function(t,e){var r=this.getElementId();try{if(""!=t)return r?r.setAttribute(t,e):null}catch(n){Ext.Error({log:n,name:this.NodeValue("name")})}}}},E_ui.prototype.Css=function(t){return{options:function(){return Ext.Cmp(t).getElementId()}(),style:function(t){for(i in t)this.setup(i,t[i])},className:function(e){t=this.options,t.className=e},setup:function(e,r){t=this.options.style;for(i in t)e===i&&(t[i]=r)}}},E_ui.prototype.Set=function(t){var e=new E_ui;return{IsNumber:function(){var r,n,o;if(r=e.Cmp(t).getValue().length,n=e.Cmp(t).getValue().length-1,o=e.Cmp(t).getValue().substring(n,r),isNaN(o)){var i=e.Cmp(t).getValue().substring(0,e.Cmp(t).getValue().length-1);try{e.Cmp(t).setValue(i)}catch(a){Ext.Error({log:a,name:t})}}},IsString:function(){var r,n,o;if(r=e.Cmp(t).getValue().length,n=e.Cmp(t).getValue().length-1,o=e.Cmp(t).getValue().substring(n,r),!isNaN(o)){var i=e.Cmp(t).getValue().substring(0,e.Cmp(t).getValue().length-1);try{e.Cmp(t).setValue(i)}catch(a){Ext.Error({log:a,name:t})}}}}},E_ui.prototype.Join=function(t){var e={http:function(){var e="";for(var r in t)for(var n in t[r])e=e+"&"+n+"="+t[r][n];return e?e:""},object:function(){var e={};for(var r in t)for(var n in t[r])e[n]=t[r][n];return e?e:""},array:function(){var e=[];for(var r in t)for(var n in t[r])e[n]=t[r][n];return e?e:!1}};return e},E_ui.prototype.Date=function(t){var e=new E_ui;return{Sort:function(r){e.Cmp(t).setMaxlength(5);var n=e.Cmp(t).getValue();try{null!==n.match(/^\d{2}$/)&&e.Cmp(t).setValue(n+(r?r:"/"))}catch(o){console.log(o)}},Long:function(r){e.Cmp(t).setMaxlength(10);var n=e.Cmp(t).getValue();try{null!==n.match(/^\d{2}$/)?e.Cmp(t).setValue(n+r):null!==n.match(/^\d{2}\-\d{2}$/)&&e.Cmp(t).setValue(n+r)}catch(o){console.log(o)}}}},E_ui.prototype.Serialize=function(t){var e=t;return{getForm:function(){var t=document.forms,r=0;for(var n in t)t[n].name==e&&(r=n);return r},getArrayJoin:function(){var t=new Array,e=new Array(this.getInput(),this.getSelect(),this.getChecked(),this.getTextarea());for(var r in e)for(var n in e[r])t[n]=e[r][n];return t},getInput:function(){var t=[];if(""!=this.getForm()){for(var e=document.forms[this.getForm()].getElementsByTagName("input"),r=0;r<e.length;r++)"checkbox"!=e[r].type&&"button"!=e[r].type&&(t[e[r].name]=e[r].value);return t}Ext.Error({log:"No Form identification..",name:"Ext.Serialize(objhandle).getInput()"})},getChecked:function(){try{var t=[];if(""!=this.getForm()){for(var e=document.forms[this.getForm()].getElementsByTagName("input"),r=0;r<e.length;r++)if("checkbox"==e[r].type||"radio"==e[r].type){for(chkString="",dNumber=document.getElementsByName(e[r].name),x=0;x<dNumber.length;x++)dNumber[x].checked&&(chkString=chkString+","+dNumber[x].value);chkString=chkString.substring(1,chkString.length),t[e[r].name]=chkString}return t}console.log("No Form identification..")}catch(n){Ext.Error({log:n,name:"Ext.Serialize(objhandle).getChecked()"})}},getTextarea:function(){try{var t=[];if(""!=this.getForm()){for(var e=document.forms[this.getForm()].getElementsByTagName("textarea"),r=0;r<e.length;r++)t[e[r].id]=e[r].value;return t}console.log("No Form identification..")}catch(n){Ext.Error({log:n,name:"Ext.Serialize(objhandle).getTextarea()"})}},getSelect:function(){var t=[];if(""!=this.getForm()){for(var e=document.forms[this.getForm()].getElementsByTagName("select"),r=0;r<e.length;r++)"checkbox"!=e[r].type&&"button"!=e[r].type&&(t[e[r].name]=e[r].value);return t}console.log("No Form identification..")},getElement:function(){var t=this.getArrayJoin();return t?t:!1}}},E_ui.prototype.Ajax=function(fn){return{_ajaxSetup:function(t){var e="";for(var r in t.param)null!=e&&(e=e+""+r+"="+t.param[r]+"&");return e=e.substring(0,e.length-1).replace(/\s+/g,"%20"),t.url+"?"+e}(fn),responseText:function(){try{if(""!=this._ajaxSetup&&void 0!==this._ajaxSetup){xmlJSON=null,xmlJSON=new XMLHttpRequest,xmlJSON.open(fn.method?fn.method:"GET",this._ajaxSetup,!1);try{return xmlJSON.send(),eval(xmlJSON.responseText.trim())}catch(e){alert(e)}}}catch(e){alert(e)}},json:function(){try{if(""!=this._ajaxSetup){xmlJSON=null,xmlJSON=new XMLHttpRequest,xmlJSON.open(fn.method?fn.method:"GET",this._ajaxSetup,!1),xmlJSON.send();var t=JSON.parse(xmlJSON.responseText.trim());if(t)return t}}catch(e){alert(e)}},aJSON:function(t){JSON.parse(t?t:null)},post:function(){var t;try{if(this._ajaxSetup)try{t=new XMLHttpRequest,t.addEventListener("load",fn.ERROR,!0),t.open(fn.method?fn.method:"GET",this._ajaxSetup),t.send(null)}catch(e){alert(e)}}catch(e){alert(e)}},upload:function(){var t,e;try{if(_elements=new FormData,t=Ext.Cmp("fileToupload").getElementId().files[0],""!=this._ajaxSetup)try{_elements.append("fileToupload",t),e=new XMLHttpRequest,e.addEventListener("load",fn.complete,!0),e.open(fn.method?fn.method:"POST",this._ajaxSetup),e.send(_elements)}catch(r){alert(r)}else console.log("no files ")}catch(r){alert(r)}},load:function(id){try{var send_data="",xmlJSON;""!=this._ajaxSetup&&void 0!==this._ajaxSetup&&(xmlJSON=new XMLHttpRequest,xmlJSON.open(fn.method?fn.method:"GET",this._ajaxSetup,!1),xmlJSON.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xmlJSON.send(send_data),xmlJSON.onreadystatechange=function(){var responseHTTP=xmlJSON.responseText,scripts=new Array;for(Ext.Cmp(id).setText(responseHTTP);responseHTTP.indexOf("<script")>-1||responseHTTP.indexOf("</script")>-1;){var s=responseHTTP.indexOf("<script"),s_e=responseHTTP.indexOf(">",s),e=responseHTTP.indexOf("</script",s),e_e=responseHTTP.indexOf(">",e);scripts.push(responseHTTP.substring(s_e+1,e)),responseHTTP=responseHTTP.substring(0,s)+responseHTTP.substring(e_e+1)}for(var i=0;i<scripts.length;i++)try{eval(scripts[i])}catch(e){console.log(" Error :"+e)}}())}catch(e){alert(e)}}}},E_ui.prototype.Window=function(t){return{_w:!1,_setup:function(t){var e="";for(var r in t.param)null!=e&&(e=e+""+r+"="+t.param[r]+"&");return e=e.substring(0,e.length-1).replace(/\s+/g,"%20"),t.url+"?"+e}(t),open:function(){var e=!0,r="";e&&null!=e&&(t.right&&(r=r+"right="+t.right+","),t.left&&(r=r+"left="+t.left+","),t.top&&(r=r+"top="+t.top+","),t.width&&(r=r+"width="+t.width+","),t.height&&(r=r+"height="+t.height+","),t.menubar&&(r=r+"menubar="+t.menubar+","),t.scrollbars&&(r=r+"scrollbars="+t.scrollbars+","),t.status&&(r=r+"status="+t.status+","),t.toolbar&&(r=r+"toolbar="+t.toolbar+","),t.resizable&&(r=r+"resizable="+t.resizable+","),r&&(this._w=window.open(this._setup?this._setup:null,t.name?t.name:"ExtWin",r)))},available:function(){return this._w},newtab:function(){window.open(this._setup)},popup:function(){var e=!0,r="";e&&""!=e&&(t.right&&(r=r+"right="+t.right+","),t.left&&(r=r+"left="+t.left+","),t.top&&(r=r+"top="+t.top+","),t.width&&(r=r+"width="+t.width+","),t.height&&(r=r+"height="+t.height+","),t.menubar&&(r=r+"menubar="+t.menubar+","),t.scrollbars&&(r=r+"scrollbars="+t.scrollbars+","),t.status&&(r=r+"status="+t.status+","),t.toolbar&&(r=r+"toolbar="+t.toolbar+","),t.resizable&&(r=r+"resizable="+t.resizable+","),r&&(this._w=window.open(this._setup?this._setup:null,t.name?t.name:"ExtWin",r),this._w.focus()))}}},E_ui.prototype.BASE64=function(){return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,r,n,o,i,a,l,c="",u=0;for(t=this._utf8_encode(t);u<t.length;)e=t.charCodeAt(u++),r=t.charCodeAt(u++),n=t.charCodeAt(u++),o=e>>2,i=(3&e)<<4|r>>4,a=(15&r)<<2|n>>6,l=63&n,isNaN(r)?a=l=64:isNaN(n)&&(l=64),c=c+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(l);return c},decode:function(t){var e,r,n,o,i,a,l,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)o=this._keyStr.indexOf(t.charAt(u++)),i=this._keyStr.indexOf(t.charAt(u++)),a=this._keyStr.indexOf(t.charAt(u++)),l=this._keyStr.indexOf(t.charAt(u++)),e=o<<2|i>>4,r=(15&i)<<4|a>>2,n=(3&a)<<6|l,c+=String.fromCharCode(e),64!=a&&(c+=String.fromCharCode(r)),64!=l&&(c+=String.fromCharCode(n));return c=this._utf8_decode(c)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},_utf8_decode:function(t){for(var e="",r=0,n=c1=c2=0;r<t.length;)n=t.charCodeAt(r),128>n?(e+=String.fromCharCode(n),r++):n>191&&224>n?(c2=t.charCodeAt(r+1),e+=String.fromCharCode((31&n)<<6|63&c2),r+=2):(c2=t.charCodeAt(r+1),c3=t.charCodeAt(r+2),e+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),r+=3);return e}}}(),E_ui.prototype.System=function(){return{exec_url:function(){return _url_exec=Ext.DOM.location.pathname.split("/"),_url_exec},view_sytem_url:function(){var t=this.exec_url();return Ext.DOM.location.protocol+"//"+Ext.DOM.location.host+"/"+t[1]+"/system"},view_page_index:function(){var t=this.exec_url();return Ext.DOM.location.protocol+"//"+Ext.DOM.location.host+"/"+t[1]+"/index.php"},view_app_url:function(){var t=this.exec_url();return Ext.DOM.location.protocol+"//"+Ext.DOM.location.host+"/"+t[1]+"/application"},view_library_url:function(){var t=this.exec_url();return Ext.DOM.location.protocol+"//"+Ext.DOM.location.host+"/"+t[1]+"/library"},view_name_url:function(t){Ext.DOM.view_name_url=t},view_file_name:function(){return Ext.DOM.view_name_url}}}(),E_ui.prototype.Error=function(t){t&&console.log(Ext.define.NAME+" Severity :\nHandle Object : "+(t.name?t.name:"")+", \nMessage :"+(t.log.message?t.log.message:t.log)+",\nLine Number :"+(t.log.lineNumber?t.log.lineNumber:"no"))},E_ui.prototype.document=function(){return{ready:function(t){window.document.addEventListener("DOMContentLoaded",t,!1),"complete"==window.document.readyState&&t.call(window.document,Ext)}}},E_ui.prototype.Msg=function(t){var t=t?t:"",e={Confirm:function(){return window.confirm(t)},Success:function(){return window.alert("Success, "+t+".")},Error:function(){return window.alert("Error, "+t+" !")},Info:function(){return window.alert("Information, "+t+" !")},Failed:function(){return window.alert("Failed, "+t+" !")}};return e},E_ui.prototype.options=function(t){var e=t.fo?t.fo:!1,r=t.to?t.to:!1,n={move:function(){var t,n=e.length,o=new Array,i=new Array,a=0;for(t=n-1;t>=0;t--)e.options[t].selected&&(o[a]=e.options[t].text,i[a]=e.options[t].value,this.del(e,t),a++);for(t=a-1;t>=0;t--)this.add(r,o[t],i[t])},add:function(t,e,r){var n=new Option(e,r);l=t.length,t.options[l]=n},del:function(t,e){var r=parseInt(t.length?t.length:0);r>0&&(t.options[e]=null)}};return n},E_ui.prototype.extend=function(t,e){for(var r in e)t[r]=e[r];return t};var Ext=function(){return new E_ui}();