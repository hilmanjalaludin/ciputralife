/* * Cigna call tracking JS  * */var V_INDEX_REPORT = {	HTML  : '../report/index.html.php',	EXCEL : '../report/index.excel.php'}var Cigna_report = function(){	this.setJsonData = "../class/class.calltracking.cigna.php"; } /* * Cigna call tracking JS  * */ Cigna_report.prototype.getJsonPHP = function(){	return this.setJsonData;}/* * Cigna call tracking JS  * */ Cigna_report.prototype.Cmp = function(ObjectName){		return ( Cmp = {			ElementId : ObjectName,			SetIndex : function(index){				doJava.dom(this.ElementId).options.selectedIndex = index; 			},						SetValue : function(values){				doJava.dom(this.ElementId).value = values; 			},						getValue : function(){				var chars = '';				if( this.ElementId){ 					if( this.getType() =='text'){ chars = doJava.dom(this.ElementId).value;}					if( this.getType() =='checkbox'){ chars = doJava.checkedValue(this.ElementId)}					if( this.getType() =='select-one'){ chars = doJava.SelArrVal(this.ElementId)}				}				return chars;			},			getType : function(){				var chars = doJava.dom(this.ElementId);				return chars.type			}		});	}/* * CreateBars JS  * report type if change value  * and case typing */ Cigna_report.prototype.ReportType = function(option){	var vals = option;	if( vals.value=='')	{			var Ext = new Cigna_report();				Ext.Cmp('group_filter_by_cigna').SetIndex(0);				Ext.Cmp('mode_cigna').SetIndex(0);				Ext.Cmp('start_date_cigna').SetValue('');				Ext.Cmp('end_date_cigna').SetValue('');							Ext.SegmentLabels(object = {				labelText:'Campaign Name ', 				labelId:'label_segment1_cigna',				source:{					id:'content_segment1',					type:'cmb',					params:'get_filter_campaign_empty',					value:''}			});							Ext.SegmentLabels(object = {					labelText:'Supervisor ', 					labelId:'label_segment2_cigna', 					source:{						id:'content_segment2',						type:'cmb',						params:'get_filter_spv_empty',						value:''}			});						Ext.SegmentLabels(object = {					labelText:'Telesales ', 					labelId:'label_segment3_cigna', 					source:{						id:'content_segment3',						type:'cmb',						params:'get_filter_tm_empty',						value:''}				});		}		}/* * CreateBars JS  * create SegmentLabels  * and case typing */Cigna_report.prototype.SegmentLabels = function( object ){	var Config = {		labelSegmentText : object.labelText,		labelSegmentId : object.labelId,		DataSource : {			SourceId :object.source.id,			SourceParams :object.source.params,			SourceValues :object.source.value,			SourceType : object.source.type		}	}		new (function(){		doJava.File = __CIGNA.getJsonPHP();		doJava.Params = {			action : Config.DataSource.SourceParams,			values : Config.DataSource.SourceValues,			Type  : Config.DataSource.SourceType		}		doJava.Load(Config.DataSource.SourceId);	});		doJava.dom(Config.labelSegmentId).innerHTML = Config.labelSegmentText;}/* * CreateBars JS  * group filter by   * and case typing */ Cigna_report.prototype.GroupFilterBySPV = function(option){	var report_type = doJava.dom('group_filter_by_cigna').value;	if(report_type=='campaign'){		this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment3_cigna', 				source:{					id:'content_segment3',					type:'box',					params:'get_filter_tm',					value:option.value				}				});	}	else if(report_type=='supervisor'){		this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment2_cigna', 				source:{					id:'content_segment2',					type:'box',					params:'get_filter_tm',					value:option.value				}				});	}	else if(report_type=='Telesales'){		this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment2_cigna', 				source:{					id:'content_segment2',					type:'box',					params:'get_filter_tm',					value:option.value				}				});	}	}  /* * Cigna call tracking JS  * */ Cigna_report.prototype.GroupFilter = function(option){	if( option.value=='campaign'){		this.SegmentLabels(object = {				labelText:'Campaign Name ', 				labelId:'label_segment1_cigna',				source:{					id:'content_segment1',					type:'box',					params:'get_filter_campaign',					value:''				}				});					this.SegmentLabels(object = {				labelText:'Supervisor ', 				labelId:'label_segment2_cigna', 				source:{					id:'content_segment2',					type:'cmb',					params:'get_filter_spv_empty',					value:''				}				});				this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment3_cigna', 				source:{					id:'content_segment3',					type:'cmb',					params:'get_filter_tm_empty',					value:''				}				});	}	else if( option.value=='supervisor'){		this.SegmentLabels(object = {				labelText:'Supervisor ', 				labelId:'label_segment1_cigna',				source:{					id:'content_segment1',					type:'box',					params:'get_filter_spv',					value:''				}				});							this.SegmentLabels(object = {				labelText:'Campaign Name ', 				labelId:'label_segment2_cigna', 				source:{					id:'content_segment2',					type:'box',					params:'get_filter_campaign',					value:''				}				});					this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment3_cigna', 				source:{					id:'content_segment3',					type:'cmb',					params:'get_filter_tm_empty',					value:''				}				});				}	else if( option.value=='Telesales'){		this.SegmentLabels(object = {				labelText:'Supervisor ', 				labelId:'label_segment1_cigna',				source:{					id:'content_segment1',					type:'cmb',					params:'get_filter_spv',					value:''				}				});					this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment2_cigna', 				source:{					id:'content_segment2',					type:'box',					params:'get_filter_tm',					value:''				}				});				this.SegmentLabels(object = {				labelText:'Campaign Name ', 				labelId:'label_segment3_cigna', 				source:{					id:'content_segment3',					type:'box',					params:'get_filter_campaign',					value:''				}				});	}	else {		this.SegmentLabels(object = {				labelText:'Campaign Name ', 				labelId:'label_segment1_cigna',				source:{					id:'content_segment1',					type:'cmb',					params:'get_filter_campaign_empty',					value:''				}				});					this.SegmentLabels(object = {				labelText:'Supervisor ', 				labelId:'label_segment2_cigna', 				source:{					id:'content_segment2',					type:'cmb',					params:'get_filter_spv_empty',					value:''				}				});				this.SegmentLabels(object = {				labelText:'Telesales ', 				labelId:'label_segment3_cigna', 				source:{					id:'content_segment3',					type:'cmb',					params:'get_filter_tm_empty',					value:''				}				});	}}/* * CreateBars JS  * generate to excel and case typing */ Cigna_report.prototype.EXCEL = function(){	var Ext = new Cigna_report();		var report_type  = Ext.Cmp('report_type_cigna').getValue();		var GroupFilter  = Ext.Cmp('group_filter_by_cigna').getValue(); 		var CampaignName = Ext.Cmp('group_filter_campaign').getValue();		var Supervisor 	 = Ext.Cmp('group_filter_spv').getValue();		var Telesales 	 = Ext.Cmp('group_filter_tm').getValue();			var start_date   = Ext.Cmp('start_date_cigna').getValue();		var end_date     = Ext.Cmp('end_date_cigna').getValue();		var Mode  		 = Ext.Cmp('mode_cigna').getValue();			// set new section 				new ( function(){			doJava.File = V_INDEX_REPORT.EXCEL;			doJava.Params = {				content : 'EXCEL', report_type : report_type, 				CampaignName : CampaignName, Supervisor : Supervisor, 				Telesales : Telesales, start_date : start_date, 				end_date  : end_date, mode  : Mode, 				group_by : GroupFilter			}						window.open(doJava.getWindowUrl());		})		}/* * CreateBars JS  * generate to HTML and case typing */ Cigna_report.prototype.HTML = function(){		var Ext = new Cigna_report();		var report_type  = Ext.Cmp('report_type_cigna').getValue();		var GroupFilter  = Ext.Cmp('group_filter_by_cigna').getValue(); 		var CampaignName = Ext.Cmp('group_filter_campaign').getValue();		var Supervisor 	 = Ext.Cmp('group_filter_spv').getValue();		var Telesales 	 = Ext.Cmp('group_filter_tm').getValue();			var start_date   = Ext.Cmp('start_date_cigna').getValue();		var end_date     = Ext.Cmp('end_date_cigna').getValue();		var Mode  		 = Ext.Cmp('mode_cigna').getValue();			// set new section 				new ( function(){			doJava.File = V_INDEX_REPORT.HTML;			doJava.Params = {				content : 'HTML', report_type : report_type, 				CampaignName : CampaignName, Supervisor : Supervisor, 				Telesales : Telesales, start_date : start_date, 				end_date  : end_date, mode  : Mode, 				group_by : GroupFilter			}			window.open(doJava.getWindowUrl());		})}/* * CreateBars JS  */ Cigna_report.prototype.createBars = function(){	$(function(){		$('#toolbars').extToolbars({			extUrl   :'../gambar/icon',			extTitle :[[''],['Show HTML'],['Show Excel']],			extMenu  :[[''],['__CIGNA.HTML'],['__CIGNA.EXCEL']],			extIcon  :[[''],['zoom.png'],['zoom.png']],			extText  :true,			extInput :false,			extOption:[{						render : 0,						type   : 'combo',						header : 'Report Type ',						id     : 'report_type', 							name   : 'report_type',						store  : [],						triger : '',						width  : 250					}]			});						$('#start_date_cigna').datepicker({showOn: 'button', buttonImage: '../gambar/calendar.gif', buttonImageOnly: true, dateFormat:'dd-mm-yy',readonly:true});			$('#end_date_cigna').datepicker({showOn: 'button', buttonImage: '../gambar/calendar.gif', buttonImageOnly: true, dateFormat:'dd-mm-yy',readonly:true});		});}var __CIGNA;new (function(){	__CIGNA = new Cigna_report(); });__CIGNA.createBars();